{
  "id": "a4894add-7b88-4ec3-905e-2e000a8a2a8a",
  "prevId": "21cccb7c-c56b-43e3-a339-f3ef6fcd4ff3",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "account_workspaces": {
      "name": "account_workspaces",
      "schema": "",
      "columns": {
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "can_claim": {
          "name": "can_claim",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "can_create": {
          "name": "can_create",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_workspaces_account_id_accounts_id_fk": {
          "name": "account_workspaces_account_id_accounts_id_fk",
          "tableFrom": "account_workspaces",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "account_workspaces_workspace_id_workspaces_id_fk": {
          "name": "account_workspaces_workspace_id_workspaces_id_fk",
          "tableFrom": "account_workspaces",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "account_workspaces_account_id_workspace_id_pk": {
          "name": "account_workspaces_account_id_workspace_id_pk",
          "columns": [
            "account_id",
            "workspace_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'worker'"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "api_key_prefix": {
          "name": "api_key_prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_id": {
          "name": "github_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auth_type": {
          "name": "auth_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'api'"
        },
        "anthropic_api_key": {
          "name": "anthropic_api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_cost_per_day": {
          "name": "max_cost_per_day",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_cost": {
          "name": "total_cost",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "oauth_token": {
          "name": "oauth_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seat_id": {
          "name": "seat_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_concurrent_sessions": {
          "name": "max_concurrent_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "active_sessions": {
          "name": "active_sessions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_concurrent_workers": {
          "name": "max_concurrent_workers",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "total_tasks": {
          "name": "total_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "accounts_api_key_idx": {
          "name": "accounts_api_key_idx",
          "columns": [
            "api_key"
          ],
          "isUnique": true
        },
        "accounts_github_id_idx": {
          "name": "accounts_github_id_idx",
          "columns": [
            "github_id"
          ],
          "isUnique": false
        },
        "accounts_auth_type_idx": {
          "name": "accounts_auth_type_idx",
          "columns": [
            "auth_type"
          ],
          "isUnique": false
        },
        "accounts_seat_id_idx": {
          "name": "accounts_seat_id_idx",
          "columns": [
            "seat_id"
          ],
          "isUnique": false
        },
        "accounts_team_idx": {
          "name": "accounts_team_idx",
          "columns": [
            "team_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "accounts_team_id_teams_id_fk": {
          "name": "accounts_team_id_teams_id_fk",
          "tableFrom": "accounts",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "accounts_api_key_unique": {
          "name": "accounts_api_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "api_key"
          ]
        }
      }
    },
    "artifacts": {
      "name": "artifacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "worker_id": {
          "name": "worker_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "share_token": {
          "name": "share_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "artifacts_worker_idx": {
          "name": "artifacts_worker_idx",
          "columns": [
            "worker_id"
          ],
          "isUnique": false
        },
        "artifacts_share_token_idx": {
          "name": "artifacts_share_token_idx",
          "columns": [
            "share_token"
          ],
          "isUnique": true
        },
        "artifacts_workspace_idx": {
          "name": "artifacts_workspace_idx",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "artifacts_workspace_key_idx": {
          "name": "artifacts_workspace_key_idx",
          "columns": [
            "workspace_id",
            "key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "artifacts_worker_id_workers_id_fk": {
          "name": "artifacts_worker_id_workers_id_fk",
          "tableFrom": "artifacts",
          "tableTo": "workers",
          "columnsFrom": [
            "worker_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "artifacts_workspace_id_workspaces_id_fk": {
          "name": "artifacts_workspace_id_workspaces_id_fk",
          "tableFrom": "artifacts",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "device_codes": {
      "name": "device_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_code": {
          "name": "user_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_token": {
          "name": "device_token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "api_key": {
          "name": "api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_name": {
          "name": "client_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'CLI'"
        },
        "level": {
          "name": "level",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'admin'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "device_codes_user_code_idx": {
          "name": "device_codes_user_code_idx",
          "columns": [
            "user_code"
          ],
          "isUnique": true
        },
        "device_codes_device_token_idx": {
          "name": "device_codes_device_token_idx",
          "columns": [
            "device_token"
          ],
          "isUnique": true
        },
        "device_codes_status_idx": {
          "name": "device_codes_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "device_codes_expires_at_idx": {
          "name": "device_codes_expires_at_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "device_codes_user_id_users_id_fk": {
          "name": "device_codes_user_id_users_id_fk",
          "tableFrom": "device_codes",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "device_codes_user_code_unique": {
          "name": "device_codes_user_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_code"
          ]
        },
        "device_codes_device_token_unique": {
          "name": "device_codes_device_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "device_token"
          ]
        }
      }
    },
    "file_reservations": {
      "name": "file_reservations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "worker_id": {
          "name": "worker_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "acquired_at": {
          "name": "acquired_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "file_reservations_workspace_file_idx": {
          "name": "file_reservations_workspace_file_idx",
          "columns": [
            "workspace_id",
            "file_path"
          ],
          "isUnique": true
        },
        "file_reservations_worker_idx": {
          "name": "file_reservations_worker_idx",
          "columns": [
            "worker_id"
          ],
          "isUnique": false
        },
        "file_reservations_expires_idx": {
          "name": "file_reservations_expires_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "file_reservations_workspace_id_workspaces_id_fk": {
          "name": "file_reservations_workspace_id_workspaces_id_fk",
          "tableFrom": "file_reservations",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "file_reservations_worker_id_workers_id_fk": {
          "name": "file_reservations_worker_id_workers_id_fk",
          "tableFrom": "file_reservations",
          "tableTo": "workers",
          "columnsFrom": [
            "worker_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "github_installations": {
      "name": "github_installations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "installation_id": {
          "name": "installation_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_login": {
          "name": "account_login",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "account_avatar_url": {
          "name": "account_avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "repository_selection": {
          "name": "repository_selection",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_at": {
          "name": "suspended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "github_installations_installation_id_idx": {
          "name": "github_installations_installation_id_idx",
          "columns": [
            "installation_id"
          ],
          "isUnique": true
        },
        "github_installations_account_login_idx": {
          "name": "github_installations_account_login_idx",
          "columns": [
            "account_login"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "github_installations_installation_id_unique": {
          "name": "github_installations_installation_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "installation_id"
          ]
        }
      }
    },
    "github_repos": {
      "name": "github_repos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "installation_id": {
          "name": "installation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "repo_id": {
          "name": "repo_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner": {
          "name": "owner",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_branch": {
          "name": "default_branch",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'main'"
        },
        "html_url": {
          "name": "html_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "github_repos_installation_idx": {
          "name": "github_repos_installation_idx",
          "columns": [
            "installation_id"
          ],
          "isUnique": false
        },
        "github_repos_repo_id_idx": {
          "name": "github_repos_repo_id_idx",
          "columns": [
            "repo_id"
          ],
          "isUnique": true
        },
        "github_repos_full_name_idx": {
          "name": "github_repos_full_name_idx",
          "columns": [
            "full_name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "github_repos_installation_id_github_installations_id_fk": {
          "name": "github_repos_installation_id_github_installations_id_fk",
          "tableFrom": "github_repos",
          "tableTo": "github_installations",
          "columnsFrom": [
            "installation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "secret_refs": {
      "name": "secret_refs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ref": {
          "name": "ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret_id": {
          "name": "secret_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scoped_to_worker_id": {
          "name": "scoped_to_worker_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "redeemed": {
          "name": "redeemed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "secret_refs_ref_idx": {
          "name": "secret_refs_ref_idx",
          "columns": [
            "ref"
          ],
          "isUnique": true
        },
        "secret_refs_secret_idx": {
          "name": "secret_refs_secret_idx",
          "columns": [
            "secret_id"
          ],
          "isUnique": false
        },
        "secret_refs_expires_idx": {
          "name": "secret_refs_expires_idx",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "secret_refs_secret_id_secrets_id_fk": {
          "name": "secret_refs_secret_id_secrets_id_fk",
          "tableFrom": "secret_refs",
          "tableTo": "secrets",
          "columnsFrom": [
            "secret_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "secret_refs_ref_unique": {
          "name": "secret_refs_ref_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ref"
          ]
        }
      }
    },
    "secrets": {
      "name": "secrets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encrypted_value": {
          "name": "encrypted_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "secrets_team_idx": {
          "name": "secrets_team_idx",
          "columns": [
            "team_id"
          ],
          "isUnique": false
        },
        "secrets_account_purpose_idx": {
          "name": "secrets_account_purpose_idx",
          "columns": [
            "account_id",
            "purpose"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "secrets_team_id_teams_id_fk": {
          "name": "secrets_team_id_teams_id_fk",
          "tableFrom": "secrets",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "secrets_account_id_accounts_id_fk": {
          "name": "secrets_account_id_accounts_id_fk",
          "tableFrom": "secrets",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "secrets_workspace_id_workspaces_id_fk": {
          "name": "secrets_workspace_id_workspaces_id_fk",
          "tableFrom": "secrets",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "task_schedules": {
      "name": "task_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cron_expression": {
          "name": "cron_expression",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "task_template": {
          "name": "task_template",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "next_run_at": {
          "name": "next_run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_run_at": {
          "name": "last_run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_task_id": {
          "name": "last_task_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "total_runs": {
          "name": "total_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "consecutive_failures": {
          "name": "consecutive_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_concurrent_from_schedule": {
          "name": "max_concurrent_from_schedule",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "pause_after_failures": {
          "name": "pause_after_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "last_checked_at": {
          "name": "last_checked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_trigger_value": {
          "name": "last_trigger_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_checks": {
          "name": "total_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "task_schedules_workspace_idx": {
          "name": "task_schedules_workspace_idx",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "task_schedules_enabled_next_run_idx": {
          "name": "task_schedules_enabled_next_run_idx",
          "columns": [
            "enabled",
            "next_run_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "task_schedules_workspace_id_workspaces_id_fk": {
          "name": "task_schedules_workspace_id_workspaces_id_fk",
          "tableFrom": "task_schedules",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_schedules_created_by_user_id_users_id_fk": {
          "name": "task_schedules_created_by_user_id_users_id_fk",
          "tableFrom": "task_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "external_id": {
          "name": "external_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_url": {
          "name": "external_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "mode": {
          "name": "mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'execution'"
        },
        "runner_preference": {
          "name": "runner_preference",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'any'"
        },
        "required_capabilities": {
          "name": "required_capabilities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "claimed_by": {
          "name": "claimed_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_account_id": {
          "name": "created_by_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_worker_id": {
          "name": "created_by_worker_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "creation_source": {
          "name": "creation_source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'api'"
        },
        "parent_task_id": {
          "name": "parent_task_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "output_requirement": {
          "name": "output_requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'auto'"
        },
        "output_schema": {
          "name": "output_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tasks_workspace_idx": {
          "name": "tasks_workspace_idx",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "tasks_status_idx": {
          "name": "tasks_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "tasks_claimed_by_idx": {
          "name": "tasks_claimed_by_idx",
          "columns": [
            "claimed_by"
          ],
          "isUnique": false
        },
        "tasks_runner_pref_idx": {
          "name": "tasks_runner_pref_idx",
          "columns": [
            "runner_preference"
          ],
          "isUnique": false
        },
        "tasks_mode_idx": {
          "name": "tasks_mode_idx",
          "columns": [
            "mode"
          ],
          "isUnique": false
        },
        "tasks_created_by_account_idx": {
          "name": "tasks_created_by_account_idx",
          "columns": [
            "created_by_account_id"
          ],
          "isUnique": false
        },
        "tasks_parent_task_idx": {
          "name": "tasks_parent_task_idx",
          "columns": [
            "parent_task_id"
          ],
          "isUnique": false
        },
        "tasks_project_idx": {
          "name": "tasks_project_idx",
          "columns": [
            "project"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tasks_workspace_id_workspaces_id_fk": {
          "name": "tasks_workspace_id_workspaces_id_fk",
          "tableFrom": "tasks",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tasks_claimed_by_accounts_id_fk": {
          "name": "tasks_claimed_by_accounts_id_fk",
          "tableFrom": "tasks",
          "tableTo": "accounts",
          "columnsFrom": [
            "claimed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "tasks_created_by_account_id_accounts_id_fk": {
          "name": "tasks_created_by_account_id_accounts_id_fk",
          "tableFrom": "tasks",
          "tableTo": "accounts",
          "columnsFrom": [
            "created_by_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "team_invitations": {
      "name": "team_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "team_invitations_token_idx": {
          "name": "team_invitations_token_idx",
          "columns": [
            "token"
          ],
          "isUnique": true
        },
        "team_invitations_team_idx": {
          "name": "team_invitations_team_idx",
          "columns": [
            "team_id"
          ],
          "isUnique": false
        },
        "team_invitations_email_idx": {
          "name": "team_invitations_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "team_invitations_team_id_teams_id_fk": {
          "name": "team_invitations_team_id_teams_id_fk",
          "tableFrom": "team_invitations",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "team_invitations_invited_by_users_id_fk": {
          "name": "team_invitations_invited_by_users_id_fk",
          "tableFrom": "team_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "team_invitations_token_unique": {
          "name": "team_invitations_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "team_members": {
      "name": "team_members",
      "schema": "",
      "columns": {
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "team_members_team_idx": {
          "name": "team_members_team_idx",
          "columns": [
            "team_id"
          ],
          "isUnique": false
        },
        "team_members_user_idx": {
          "name": "team_members_user_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "team_members_team_id_teams_id_fk": {
          "name": "team_members_team_id_teams_id_fk",
          "tableFrom": "team_members",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "team_members_user_id_users_id_fk": {
          "name": "team_members_user_id_users_id_fk",
          "tableFrom": "team_members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "team_members_team_id_user_id_pk": {
          "name": "team_members_team_id_user_id_pk",
          "columns": [
            "team_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "teams": {
      "name": "teams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan": {
          "name": "plan",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "teams_slug_idx": {
          "name": "teams_slug_idx",
          "columns": [
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "teams_slug_unique": {
          "name": "teams_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      }
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "google_id": {
          "name": "google_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "github_id": {
          "name": "github_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_google_id_idx": {
          "name": "users_google_id_idx",
          "columns": [
            "google_id"
          ],
          "isUnique": true
        },
        "users_github_id_idx": {
          "name": "users_github_id_idx",
          "columns": [
            "github_id"
          ],
          "isUnique": true
        },
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_google_id_unique": {
          "name": "users_google_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "google_id"
          ]
        },
        "users_github_id_unique": {
          "name": "users_github_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "github_id"
          ]
        }
      }
    },
    "worker_heartbeats": {
      "name": "worker_heartbeats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "local_ui_url": {
          "name": "local_ui_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "viewer_token": {
          "name": "viewer_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_ids": {
          "name": "workspace_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "max_concurrent_workers": {
          "name": "max_concurrent_workers",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "active_worker_count": {
          "name": "active_worker_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "environment": {
          "name": "environment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_heartbeat_at": {
          "name": "last_heartbeat_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "worker_heartbeats_account_idx": {
          "name": "worker_heartbeats_account_idx",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "worker_heartbeats_local_ui_url_idx": {
          "name": "worker_heartbeats_local_ui_url_idx",
          "columns": [
            "account_id",
            "local_ui_url"
          ],
          "isUnique": true
        },
        "worker_heartbeats_heartbeat_idx": {
          "name": "worker_heartbeats_heartbeat_idx",
          "columns": [
            "last_heartbeat_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "worker_heartbeats_account_id_accounts_id_fk": {
          "name": "worker_heartbeats_account_id_accounts_id_fk",
          "tableFrom": "worker_heartbeats",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workers": {
      "name": "workers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_id": {
          "name": "task_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "runner": {
          "name": "runner",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "branch": {
          "name": "branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "waiting_for": {
          "name": "waiting_for",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "turns": {
          "name": "turns",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_ui_url": {
          "name": "local_ui_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_action": {
          "name": "current_action",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "milestones": {
          "name": "milestones",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "pr_url": {
          "name": "pr_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pr_number": {
          "name": "pr_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_commit_sha": {
          "name": "last_commit_sha",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "commit_count": {
          "name": "commit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "files_changed": {
          "name": "files_changed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lines_added": {
          "name": "lines_added",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "lines_removed": {
          "name": "lines_removed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "pending_instructions": {
          "name": "pending_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instruction_history": {
          "name": "instruction_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "result_meta": {
          "name": "result_meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workers_task_idx": {
          "name": "workers_task_idx",
          "columns": [
            "task_id"
          ],
          "isUnique": false
        },
        "workers_workspace_idx": {
          "name": "workers_workspace_idx",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "workers_account_idx": {
          "name": "workers_account_idx",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "workers_status_idx": {
          "name": "workers_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "workers_account_status_idx": {
          "name": "workers_account_status_idx",
          "columns": [
            "account_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workers_task_id_tasks_id_fk": {
          "name": "workers_task_id_tasks_id_fk",
          "tableFrom": "workers",
          "tableTo": "tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "workers_workspace_id_workspaces_id_fk": {
          "name": "workers_workspace_id_workspaces_id_fk",
          "tableFrom": "workers",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workers_account_id_accounts_id_fk": {
          "name": "workers_account_id_accounts_id_fk",
          "tableFrom": "workers",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workspace_skills": {
      "name": "workspace_skills",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "origin": {
          "name": "origin",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "workspace_skills_workspace_slug_idx": {
          "name": "workspace_skills_workspace_slug_idx",
          "columns": [
            "workspace_id",
            "slug"
          ],
          "isUnique": true
        },
        "workspace_skills_workspace_idx": {
          "name": "workspace_skills_workspace_idx",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workspace_skills_workspace_id_workspaces_id_fk": {
          "name": "workspace_skills_workspace_id_workspaces_id_fk",
          "tableFrom": "workspace_skills",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workspaces": {
      "name": "workspaces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "repo": {
          "name": "repo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_path": {
          "name": "local_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "memory": {
          "name": "memory",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "projects": {
          "name": "projects",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "github_repo_id": {
          "name": "github_repo_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "github_installation_id": {
          "name": "github_installation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "access_mode": {
          "name": "access_mode",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "git_config": {
          "name": "git_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "config_status": {
          "name": "config_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unconfigured'"
        },
        "webhook_config": {
          "name": "webhook_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "team_id": {
          "name": "team_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "workspaces_github_repo_idx": {
          "name": "workspaces_github_repo_idx",
          "columns": [
            "github_repo_id"
          ],
          "isUnique": false
        },
        "workspaces_github_installation_idx": {
          "name": "workspaces_github_installation_idx",
          "columns": [
            "github_installation_id"
          ],
          "isUnique": false
        },
        "workspaces_team_idx": {
          "name": "workspaces_team_idx",
          "columns": [
            "team_id"
          ],
          "isUnique": false
        },
        "workspaces_config_status_idx": {
          "name": "workspaces_config_status_idx",
          "columns": [
            "config_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workspaces_team_id_teams_id_fk": {
          "name": "workspaces_team_id_teams_id_fk",
          "tableFrom": "workspaces",
          "tableTo": "teams",
          "columnsFrom": [
            "team_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}